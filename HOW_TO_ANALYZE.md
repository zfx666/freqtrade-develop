# ğŸ“Š å¦‚ä½•åˆ†æä¸€å¹´çš„å›æµ‹æ•°æ®

## ğŸš€ **å¿«é€Ÿå¼€å§‹**

### ç¬¬1æ­¥ï¼šè¿è¡Œä¸€å¹´çš„å›æµ‹

```powershell
# å›æµ‹ä¸€å¹´æ•°æ® (2024å¹´)
python -m freqtrade backtesting `
    --strategy Bollinger4h1hStructureStrategy `
    --config user_data/config_bollinger_4h1h.json `
    --timerange 20240101-20241231 `
    --export trades

# æˆ–è€…æ›´é•¿æ—¶é—´ï¼ˆ2023-2024å¹´ï¼‰
python -m freqtrade backtesting `
    --strategy Bollinger4h1hStructureStrategy `
    --config user_data/config_bollinger_4h1h.json `
    --timerange 20230101-20241231 `
    --export trades
```

### ç¬¬2æ­¥ï¼šåˆ†æç»“æœ

#### **æ–¹å¼1ï¼šè‡ªåŠ¨åˆ†ææœ€æ–°ç»“æœï¼ˆæ¨èï¼‰**
```powershell
python analyze_backtest_results.py
```
è„šæœ¬ä¼šè‡ªåŠ¨æ‰¾åˆ°æœ€æ–°çš„å›æµ‹ç»“æœå¹¶åˆ†æã€‚

#### **æ–¹å¼2ï¼šæŒ‡å®šæ–‡ä»¶åˆ†æ**
```powershell
python analyze_backtest_results.py user_data/backtest_results/backtest-result-2024-12-15_10-30-00-trades.csv
```

---

## ğŸ“‹ **åˆ†ææŠ¥å‘Šå†…å®¹**

### 1. **èƒœç‡ç»Ÿè®¡**
```
æ€»äº¤æ˜“æ¬¡æ•°: XX
ç›ˆåˆ©äº¤æ˜“: XX (XX%)
äºæŸäº¤æ˜“: XX (XX%)

å¹³å‡ç›ˆåˆ©: +XX%
å¹³å‡äºæŸ: -XX%
ç›ˆäºæ¯”: XX

æ€»æ”¶ç›Š: XX%
ç›ˆåˆ©å› å­: XX
```

### 2. **é€€å‡ºåŸå› åˆ†æ**
```
stop_loss      : èƒœç‡, å¹³å‡æ”¶ç›Š
structure_weak : èƒœç‡, å¹³å‡æ”¶ç›Š
roi            : èƒœç‡, å¹³å‡æ”¶ç›Š
...
```

### 3. **æŒä»“æ—¶é•¿åˆ†æ**
```
æçŸ­(â‰¤2h)   : èƒœç‡, å¹³å‡æ”¶ç›Š
çŸ­æœŸ(3-5h)  : èƒœç‡, å¹³å‡æ”¶ç›Š
ä¸­æœŸ(6-10h) : èƒœç‡, å¹³å‡æ”¶ç›Š
é•¿æœŸ(11-24h): èƒœç‡, å¹³å‡æ”¶ç›Š
è¶…é•¿(>24h)  : èƒœç‡, å¹³å‡æ”¶ç›Š
```

### 4. **æ—¶é—´åˆ†å¸ƒ**
- æœˆåº¦ç»Ÿè®¡ï¼ˆæ¯æœˆäº¤æ˜“æ¬¡æ•°å’Œæ”¶ç›Šï¼‰
- æ˜ŸæœŸåˆ†å¸ƒï¼ˆå“ªå¤©äº¤æ˜“æœ€å¤š/æœ€èµšé’±ï¼‰

### 5. **å…³é”®å‘ç°**
- è‡ªåŠ¨è¯†åˆ«é—®é¢˜ï¼ˆèƒœç‡ä½ã€æ­¢æŸç‡é«˜ç­‰ï¼‰
- è‡ªåŠ¨è¯†åˆ«ä¼˜åŠ¿ï¼ˆç›ˆäºæ¯”å¥½ã€é•¿æœŸäº¤æ˜“å¼ºç­‰ï¼‰

### 6. **ä¼˜åŒ–å»ºè®®**
- æ ¹æ®æ•°æ®è‡ªåŠ¨ç”Ÿæˆé’ˆå¯¹æ€§å»ºè®®

### 7. **è¯¦ç»†æ•°æ®å¯¼å‡º**
- è‡ªåŠ¨ç”Ÿæˆ `*_analysis.csv` æ–‡ä»¶
- åŒ…å«æ¯ç¬”äº¤æ˜“çš„è¯¦ç»†ä¿¡æ¯

---

## ğŸ“Š **ç¤ºä¾‹è¾“å‡º**

```
æˆåŠŸè¯»å–æ–‡ä»¶: user_data/backtest_results/backtest-result-2024-01-01-trades.csv
æ€»äº¤æ˜“ç¬”æ•°: 156

================================================================================
èƒœç‡ç»Ÿè®¡
================================================================================

æ€»äº¤æ˜“æ¬¡æ•°: 156
ç›ˆåˆ©äº¤æ˜“: 52 (33.3%)
äºæŸäº¤æ˜“: 104 (66.7%)
ç›ˆäºå¹³è¡¡: 0

å¹³å‡ç›ˆåˆ©: +3.18%
å¹³å‡äºæŸ: -1.17%
ç›ˆäºæ¯”: 2.72

æ€»æ”¶ç›Š: +15.32%
å¹³å‡æ¯ç¬”: +0.10%
ç›ˆåˆ©å› å­: 1.42

æœ€å¤§ç›ˆåˆ©: +12.45%
æœ€å¤§äºæŸ: -2.35%

================================================================================
é€€å‡ºåŸå› åˆ†æ
================================================================================

                profit_pct
                count  mean    sum
exit_reason
stop_loss          62 -1.20 -74.40
structure_weak     94  0.95  89.30

æŒ‰é€€å‡ºåŸå› åˆ†ç±»èƒœç‡:
structure_weak      :  52/94 = 55.3% èƒœç‡, å¹³å‡: +0.95%
stop_loss           :   0/62 =  0.0% èƒœç‡, å¹³å‡: -1.20%

================================================================================
æŒä»“æ—¶é•¿åˆ†æ
================================================================================

                  profit_pct
                   count  mean   sum
duration_group
æçŸ­(â‰¤2h)             45 -0.82 -36.90
çŸ­æœŸ(3-5h)            38 -0.45 -17.10
ä¸­æœŸ(6-10h)           28  0.32   8.96
é•¿æœŸ(11-24h)          32  1.85  59.20
è¶…é•¿(>24h)            13  3.09  40.17

å„æ—¶é•¿æ®µèƒœç‡:
æçŸ­(â‰¤2h)       :   8/45 = 17.8% èƒœç‡, å¹³å‡: -0.82%
çŸ­æœŸ(3-5h)      :  12/38 = 31.6% èƒœç‡, å¹³å‡: -0.45%
ä¸­æœŸ(6-10h)     :  15/28 = 53.6% èƒœç‡, å¹³å‡: +0.32%
é•¿æœŸ(11-24h)    :  22/32 = 68.8% èƒœç‡, å¹³å‡: +1.85%
è¶…é•¿(>24h)      :  10/13 = 76.9% èƒœç‡, å¹³å‡: +3.09%

================================================================================
å…³é”®å‘ç°
================================================================================

å‘ç°çš„é—®é¢˜:
  âŒ èƒœç‡è¿‡ä½ (33.3%)
  âŒ æ­¢æŸç‡è¿‡é«˜ (39.7%, 62/156ç¬”)
  âŒ æ­¢æŸäº¤æ˜“å…¨éƒ¨äºæŸ (62ç¬”)
  âŒ æçŸ­æœŸäº¤æ˜“èƒœç‡ä½ (17.8%, 45ç¬”)

ä¼˜åŠ¿:
  âœ… ç›ˆäºæ¯”ä¼˜ç§€ (2.72)
  âœ… é•¿æœŸäº¤æ˜“èƒœç‡é«˜ (68.8%, 32ç¬”)
  âœ… ç›ˆåˆ©å› å­è‰¯å¥½ (1.42)

================================================================================
å»ºè®®
================================================================================

â€¢ è€ƒè™‘å¢åŠ æ›´ä¸¥æ ¼çš„å…¥åœºè¿‡æ»¤æ¡ä»¶
â€¢ æ£€æŸ¥æ˜¯å¦åœ¨éœ‡è¡å¸‚æˆ–å‡çªç ´æ—¶å…¥åœº
â€¢ æ­¢æŸç‡è¿‡é«˜ï¼Œéœ€è¦ä¼˜åŒ–å…¥åœºæ—¶æœº
â€¢ è€ƒè™‘å¢åŠ è¶‹åŠ¿å¼ºåº¦ç¡®è®¤ï¼ˆå¦‚ADXæŒ‡æ ‡ï¼‰
â€¢ è€ƒè™‘å¢åŠ æˆäº¤é‡ç¡®è®¤
â€¢ æçŸ­æœŸäº¤æ˜“è´¨é‡å·®ï¼Œè€ƒè™‘å¢åŠ æœ€å°æŒä»“æ—¶é—´è¦æ±‚
â€¢ æˆ–å¢åŠ ä»·æ ¼åŠ¨é‡ç¡®è®¤
â€¢ ç›ˆäºæ¯”å¾ˆå¥½ä½†èƒœç‡ä½ï¼Œæé«˜èƒœç‡å¯æ˜¾è‘—æå‡æ•´ä½“ç›ˆåˆ©
â€¢ é‡ç‚¹ä¼˜åŒ–å…¥åœºæ¡ä»¶ï¼Œè€Œéè°ƒæ•´æ­¢æŸ/æ­¢ç›ˆ

================================================================================

è¯¦ç»†åˆ†ææ•°æ®å·²å¯¼å‡ºåˆ°: user_data/backtest_results/backtest-result-2024-01-01-trades_analysis.csv
```

---

## ğŸ¯ **å¦‚ä½•è§£è¯»ç»“æœ**

### **ä¼˜ç§€ç­–ç•¥çš„ç‰¹å¾**
```
âœ… èƒœç‡ > 45%
âœ… ç›ˆäºæ¯” > 2.0
âœ… ç›ˆåˆ©å› å­ > 1.5
âœ… æ­¢æŸç‡ < 25%
âœ… é•¿æœŸäº¤æ˜“èƒœç‡é«˜
```

### **éœ€è¦ä¼˜åŒ–çš„ä¿¡å·**
```
âŒ èƒœç‡ < 40%          â†’ å…¥åœºæ¡ä»¶å¤ªå®½æ¾
âŒ æ­¢æŸç‡ > 35%        â†’ å…¥åœºæ—¶æœºä¸ä½³
âŒ æçŸ­æœŸäº¤æ˜“èƒœç‡ä½    â†’ å‡çªç ´å¤ªå¤š
âŒ ç›ˆåˆ©å› å­ < 1.0      â†’ æ•´ä½“äºæŸ
```

---

## ğŸ”§ **æ ¹æ®ç»“æœä¼˜åŒ–ç­–ç•¥**

### **å¦‚æœæ­¢æŸç‡é«˜ï¼ˆ>35%ï¼‰**
â†’ éœ€è¦å¢åŠ å…¥åœºè¿‡æ»¤
â†’ å‚è€ƒä¹‹å‰çš„ä¼˜åŒ–æ–¹æ¡ˆï¼š
  - æ·»åŠ ADXè¶‹åŠ¿å¼ºåº¦æ£€æŸ¥
  - æ·»åŠ RSIå¤šç©ºæ£€æŸ¥
  - æ·»åŠ æˆäº¤é‡ç¡®è®¤
  - æ·»åŠ ä»·æ ¼åŠ¨é‡æ£€æŸ¥

### **å¦‚æœæçŸ­æœŸäº¤æ˜“å·®**
â†’ åœ¨ `confirm_trade_entry` ä¸­å¢åŠ æ›´ä¸¥æ ¼çš„æ£€æŸ¥
â†’ é¿å…åœ¨å‡çªç ´æ—¶å…¥åœº

### **å¦‚æœé•¿æœŸäº¤æ˜“å¥½ä½†çŸ­æœŸå·®**
â†’ ç­–ç•¥æ–¹å‘æ­£ç¡®ï¼Œä½†å…¥åœºå¤ªæ¿€è¿›
â†’ éœ€è¦æ›´è€å¿ƒç­‰å¾…æœ€ä½³æ—¶æœº

---

## ğŸ“ **æ–‡ä»¶è¯´æ˜**

- `analyze_backtest_results.py` - åˆ†æè„šæœ¬
- `user_data/backtest_results/*-trades.csv` - å›æµ‹ç»“æœï¼ˆè¾“å…¥ï¼‰
- `user_data/backtest_results/*-trades_analysis.csv` - åˆ†æç»“æœï¼ˆè¾“å‡ºï¼‰

---

## ğŸ’¡ **ä½¿ç”¨æŠ€å·§**

### **å¯¹æ¯”ä¸åŒæ—¶é—´æ®µ**
```powershell
# åˆ†æ2023å¹´
python analyze_backtest_results.py user_data/backtest_results/2023-trades.csv

# åˆ†æ2024å¹´
python analyze_backtest_results.py user_data/backtest_results/2024-trades.csv

# å¯¹æ¯”ç»“æœï¼Œçœ‹ç­–ç•¥ç¨³å®šæ€§
```

### **å¯¹æ¯”ä¼˜åŒ–å‰å**
```powershell
# è¿è¡Œä¼˜åŒ–å‰çš„å›æµ‹
python -m freqtrade backtesting ... --export trades

# ä¿å­˜ç»“æœ
cp user_data/backtest_results/latest-trades.csv before_optimization.csv

# åº”ç”¨ä¼˜åŒ–

# è¿è¡Œä¼˜åŒ–åçš„å›æµ‹
python -m freqtrade backtesting ... --export trades

# å¯¹æ¯”
python analyze_backtest_results.py before_optimization.csv
python analyze_backtest_results.py user_data/backtest_results/latest-trades.csv
```

---

## âš ï¸ **æ³¨æ„äº‹é¡¹**

1. ç¡®ä¿å›æµ‹æ—¶ä½¿ç”¨ `--export trades` å‚æ•°
2. CSVæ–‡ä»¶å¿…é¡»åŒ…å«ï¼š`open_date`, `close_date`, `profit_ratio`, `exit_reason`
3. åˆ†æè„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†ä¸åŒæ ¼å¼çš„æ—¥æœŸå’Œåˆ©æ¶¦æ•°æ®
4. å¯¼å‡ºçš„ `*_analysis.csv` å¯ä»¥åœ¨Excelä¸­è¿›ä¸€æ­¥åˆ†æ

---

**ç°åœ¨å°±è¿è¡Œä¸€å¹´çš„å›æµ‹ï¼Œç„¶åç”¨è¿™ä¸ªè„šæœ¬åˆ†æå§ï¼** ğŸš€

